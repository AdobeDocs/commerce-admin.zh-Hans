---
title: 隐藏税计算
description: 了解如何在存在含税的折扣时配置隐藏税计算。
exl-id: be2000b1-09d7-4a28-814a-f5da7591e387
feature: Invoices, Taxes
source-git-commit: 8b5af316ab1d2e632ed5fc2066974326830ab3f7
workflow-type: tm+mt
source-wordcount: '348'
ht-degree: 0%

---

# 隐藏税计算

_隐藏税额_&#x200B;是折扣金额的增值税额。 当以下所有条件都成立时，它就不是零了：

- 目录价格包括税金
- 增值税率不为零
- 有折扣

当折扣中包含税时，Commerce将计算&#x200B;_隐藏税_，该税将添加回用于计算折扣价格。

`discountedItemPrice = fullPriceWithoutTax - discountAmountOnFullPriceWithoutTax + vatAmountOnDiscountedPrice + hiddenTax`

## 示例

1. 项目全价（含税）：$100
1. 增值税税率： 20%
1. 项目价格不包括10%的折扣：

### 预期结果无效

- 不含折扣的税后项目价格=100美元
- 税前项目价格（无折扣）=100/1.2=83.33美元
- 折扣=83.33 \ *0.1=8.33美元
- 税金=(83.33-8.33) \ *0.2=**15美元（无效）**
- 不含税的订单总额=83.33-8.33=**75美元（无效）**
- 含税订单总额=75+15=**90美元（无效）**

### 购物车中的有效实际结果

购物车中的![隐藏税费计算](./assets/hidden-tax.png){width="700" zoomable="yes"}

### 有效计算

1. 不含税的项目全价为： $100 / 1.2 = **$83.33**

1. 项目全价增值税额为：$100 - $83.33 = $16.67

   _也可以计算为：$100 \ * (1 - 1/1.2)。_

1. 在$83.33上有10%的折扣为：**$8.33**（当您不享受税收折扣时）

1. 含税项目的折扣价为：$100 - $8.33 = $91.67

   >[!NOTE]
   >
   >此等式说明了客户对折扣应用方式的感知。

1. 不含税的项目的折扣价为：$91.67 / 1.2 = $76.39

1. 折扣价的增值税金额为： $91.67 - $76.39 = **$15.28（有效）**

   _也可以计算为：$91.67 \ * (1 - 1/1.2)。_

1. 隐藏税或&#x200B;_折扣税补偿_&#x200B;是全价与折扣价的增值税金额之间的差额： $16.67 - $15.28 = **$1.39**

   _另一种查看方式：隐藏税是包含在$8.33折扣内的增值税金额：$8.33 \* (1 - 1/1.2)。_

1. 客户通常如何理解折扣价格（订单总额）：

   _含税物料的全价&#x200B;**减**&#x200B;折扣额：$100 - $8.33 = $91.67_

1. **Commerce如何计算折扣价格**（请参阅之前的公式）：

   _$83.33 - $8.33 + 15.28 + 1.39 =**$91.67***_
