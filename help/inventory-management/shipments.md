---
title: 管理库存中的订单和发运
description: 了解在装运过程中管理库存数量的其他 [!DNL Inventory Management] 功能和选项。
exl-id: cc4ca518-d98c-48f3-9051-6fb3c6fae9fe
feature: Inventory, Shipping/Delivery
source-git-commit: 4d89212585fa846eb94bf83a640d0358812afbc5
workflow-type: tm+mt
source-wordcount: '724'
ht-degree: 0%

---

# 管理订单和发运

[!DNL Inventory Management]包含用于管理整个装运过程的库存数量的其他功能和选项。 当您复查并完成发运、取消订单和发放贷项通知单时，产品可销售量和现有量会自动更新。

此信息包括[!DNL Inventory Management]的详情。 有关详细信息，请参阅&#x200B;_销售和购买体验指南_&#x200B;中的[订单](../stores-purchase/orders.md){target="_blank"}主题。

## 订购

[!DNL Commerce]支持单订单和多地址现成订单，无需额外配置。 当客户或员工输入订单时，[!DNL Inventory Management]使用预留量对可销售数量跟踪库存，从已开票和已发运产品的库存数量中扣除。

### 多地址订单

对于多地址订单，将生成一系列单个订单，每个订单对应一个输入的目标地址。 在结账过程中，客户选择结账过程中每个地址关联的每组产品，并根据目标地址生成单个订单。 每个订单包括每个地址关联的产品。

[!DNL Commerce]管理这些多地址订单的库存的方式与单个订单完全相同。 它允许在发运、部分发运、取消订单和通过库存更新退款期间使用Source选择算法建议或改写。

![结帐时有多个地址](assets/inventory-multi-ship.png){width="350" zoomable="yes"}

### 退款

在输入[贷项通知单](../stores-purchase/credit-memo-create.md){target="_blank"}以发放退款时，您可以将产品数量退回已扣除的来源。 订单信息包括发运产品的库存来源。 建议您在收到退回的产品时，通过贷项通知单授予退回的产品数量。

![个要退款且已选择退款股票的物品](assets/credit-memo-items-to-refund.png)
{width="350" zoomable="yes"}

### 取消未装运的订单

如果订单尚未发运并且已取消（全部或部分），[!DNL Inventory Management]会自动将产品库存退回至可销售数量。 在开票和发运之前，系统不会从实际数量中扣除已购产品的销售数量。 在开票和发运订单时，系统会将预留量转换为库存扣减量。

在幕后，[!DNL Inventory Management]自动进入补偿预留，以取消对产品数量的控制。 该数量将返回至汇总的虚拟可销售数量。

## 装运

启用[!DNL Inventory Management]后，您可以发送来自一个或多个来源的部分或完整装运以完成订单。 您可以控制每个订单的转出库存，设置要扣减的金额，发送一个或多个发运，并在库存可用时交付库存和延交订单。 对于订单中的每个行项目，输入要从来源数量中扣除的金额。 在履行整个订单之前，根据库存库存量按来源生成发运。

### 部分装运

对于多源商家，[!DNL Commerce]为您选择的每个源生成一个装运。 常规工作流允许您选择来源，设置要扣除的产品数量以完成订单，然后继续发运。 完成后，请为每个来源创建附加发运，直到您履行了订单为止。

单一来源商户也可能发送部分发运以支持延交订单或平衡库存，因为订单是针对常用项目进行的。

### Recommendations和Source选择算法

[Source选择算法](selection-reservations.md) (SSA)为部分装运和完全装运提供建议。 在为订单创建发运发票时，您可以访问Source选择算法。 通过“发运”页，随时运行Source优先级或距离优先级算法，以确定用于匹配订购数量和可用来源的最佳选项。 系统支持从一个来源发运完整订单，并将订单分解为多个来源的多个部分发运。 您可以访问这些选项以立即履行和交错发运，从而在一段时间内发送较少的数量。

要完成订单并发送订单，它必须已完成付款并开票。 目前，您可以为建议重新运行SSA，并从一个或多个来源发运，或者使用人工设置来源和数量来改写SSA建议以完成发运。

- 建议您重新运行SSA以检查每次装运的建议。

- 如果要更改选择，可以使用人工来源扣减进行改写。

### 装运和预留

在生成发运时，系统会清除产品预留并扣减产品数量。 每库存现有量会根据发运详细信息进行更新。 例如，如果您从两个来源发送十种产品的装运，则这些来源的数量将分别扣除10。 可销售数量会自动刷新关联的库存，为客户和员工提供最新的产品金额。 并且保留完全清除，不再计入可销售数量。
